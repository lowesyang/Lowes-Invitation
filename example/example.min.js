!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var o=i(1),a=n(o);window.onload=function(){var t=document.querySelector(".editForm>input"),e=document.querySelector(".editForm>.submitBtn"),i=document.querySelector(".editForm>.resetBtn"),n=document.querySelector(".editForm>.download"),o={color:"#ffffff",x:75,y:720,fontSize:36,fontFamily:"Microsoft Yahei"},s=new a["default"](o);e.addEventListener("click",function(e){e.preventDefault();var i=t.value;s.drawName(i)}),i.addEventListener("click",function(){t.value="",s.init()}),n.addEventListener("click",function(){s.exportImg()})}},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.root=document.querySelector(".lowesInvite"),this.createDom(this.root.getAttribute("data-img"),this.root),this.canvas=document.querySelector(".lowesInvite>canvas"),this.context=this.canvas.getContext("2d"),this.image=document.querySelector(".lowesInvite>img"),this.image.onload=function(){this.canvas.setAttribute("width",""+this.image.offsetWidth),this.canvas.setAttribute("height",""+this.image.offsetHeight),this.originalData=this.image.src,this.width=this.image.offsetWidth,this.height=this.image.offsetHeight,this.context.font=e.fontSize+"px "+e.fontFamily,e.bold&&(this.context.font="bold "+this.context.font),this.context.textAlign="left",this.context.baseline="middle",this.setNamePos(e.x,e.y),this.setNameColor(e.color),this.init(),this.image.onload=null}.bind(this)}return n(t,[{key:"createDom",value:function(t,e){var i=document.createElement("img"),n=document.createElement("canvas");i.src=t,n.style.opacity=0,n.style.position="absolute",n.style.zIndex=-999,n.style.left=0,n.style.top=0,e.appendChild(i),e.appendChild(n)}},{key:"init",value:function(){this.clear(),this.name=null,this.context.fillText("您的名字",this.signX,this.signY),this.image.src=this.canvas.toDataURL("image/png")}},{key:"clear",value:function(){this.image.src=this.originalData,this.context.drawImage(this.image,0,0,this.width,this.height)}},{key:"setNamePos",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.signX=t,this.signY=e}},{key:"setNameColor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#333333";this.context.fillStyle=t}},{key:"drawName",value:function(t){this.clear(),this.name=t,this.context.fillText(t,this.signX,this.signY),this.image.src=this.canvas.toDataURL("image/png")}},{key:"exportImg",value:function(){if(!this.name)return alert("请输入您的姓名后再下载!");var t=document.createElement("a");t.download="invitation",t.href=this.image.src;var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),t.dispatchEvent(e)}}]),t}();e["default"]=o}]);